# Install and load packages
if (!require("pacman")) install.packages("pacman")
devtools::install_github("ebenmichael/augsynth")
pacman::p_load(# Tidyverse packages including dplyr and ggplot2
tidyverse,
ggthemes,
augsynth,
gsynth)
# set seed
set.seed(44)
# set seed
set.seed(44)
# load data
medicaid_expansion <- read_csv('../data/medicaid_expansion.csv')
# load data
medicaid_expansion <- read_csv("C:\git\Computational-Social-Science-Projects\Project 7\data\medicaid_expansion.csv")
# load data
medicaid_expansion <- read_csv('..\data\medicaid_expansion.csv')
# load data
medicaid_expansion <- read_csv('../data\medicaid_expansion.csv')
# load data
medicaid_expansion <- read_csv('../data/medicaid_expansion.csv')
# load data
medicaid_expansion <- read_csv('../data/medicaid_expansion')
# load data
medicaid_expansion <- read_csv('../data/medicaid_expansion.csv')
medicaid_expansion <- read.csv("C:/git/Computational-Social-Science-Projects/data/medicaid_expansion.csv")
medicaid_expansion <- read_csv("C:/git/Computational-Social-Science-Projects/data/medicaid_expansion.csv")
medicaid_expansion <- read_csv("C:/git/Computational-Social-Science-Projects/data/medicaid_expansion")
medicaid_expansion <- read_csv(""C:/git/Computational-Social-Science-Projects/Project 7/data/medicaid_expansion.csv"")
medicaid_expansion <- read_csv("C:/git/Computational-Social-Science-Projects/Project 7/data/medicaid_expansion.csv")
getwd
getwd()
# load data --Kasey, I'm leaving the original code for you but I couldn't get it to work even though the code seems impeccable, so I pasted in the full path
medicaid_expansion <- read_csv('./data/medicaid_expansion.csv')
# load data --Kasey, I'm leaving the original code for you but I couldn't get it to work even though the code seems impeccable, so I pasted in the full path
medicaid_expansion <- read_csv('./data/medicaid_expansion.csv')
# load data --Kasey, I'm leaving the original code for you but I couldn't get it to work even though the code seems impeccable, so I pasted in the full path
#medicaid_expansion <- read_csv('./data/medicaid_expansion.csv')
medicaid_expansion <- read_csv("C:/git/Computational-Social-Science-Projects/Project 7/data/medicaid_expansion.csv")
# load data
medicaid_expansion <- read_csv('./data/medicaid_expansion.csv')
View(medicaid_expansion)
View(medicaid_expansion)
library(dplyr)
library(ggplot2)
medicaid_expansion_to_2014 <- medicaid_expansion %>%
filter(year >= 2008, year <= 2014)
ggplot(medicaid_expansion_filtered, aes(x = year, y = uninsured_rate, group = State, color = State)) +
geom_line() +
labs(title = "Uninsured Rate by State (2008–2014)",
x = "Year",
y = "Uninsured Rate (%)") +
theme_minimal()
# highest and lowest uninsured rates
medicaid_expansion_to_2014 <- medicaid_expansion %>%
filter(year >= 2008, year <= 2014)
ggplot(medicaid_expansion_to_2014, aes(x = year, y = uninsured_rate, group = State, color = State)) +
geom_line() +
labs(title = "Uninsured Rate by State (2008–2014)",
x = "Year",
y = "Uninsured Rate (%)") +
theme_minimal()
# highest and lowest uninsured rates
medicaid_expansion_to_2014 <- medicaid_expansion %>%
filter(year >= 2008, year <= 2014)
ggplot(medicaid_expansion_to_2014, aes(x = year, y = uninsured_rate, group = State, color = State)) +
geom_line() +
labs(title = "Uninsured Rate by State (2008–2014)",
x = "Year",
y = "Uninsured Rate (%)") +
theme_minimal()
##trying something else
state_summary <- medicaid_expansion_to_2014 %>%
group_by(State) %>%
summarize(avg_uninsured_rate = mean(uninsured_rate, na.rm = TRUE)) %>%
arrange(desc(avg_uninsured_rate))
highest_state <- state_summary$State[1]
lowest_state <- state_summary$State[n()]
state_summary <- medicaid_expansion_to_2014 %>%
group_by(State) %>%
summarize(avg_uninsured_rate = mean(uninsured_rate, na.rm = TRUE)) %>%
arrange(desc(avg_uninsured_rate))
highest_state <- state_summary$State[1]
lowest_state <- state_summary$State[n()]
##trying something else
state_summary <- medicaid_expansion_to_2014 %>%
group_by(State) %>%
summarize(avg_uninsured_rate = mean(uninsured_rate, na.rm = TRUE)) %>%
arrange(desc(avg_uninsured_rate))
highest_state <- state_summary$State[1]
lowest_state <- state_summary$State[nrow(state_summary)]
ggplot(medicaid_expansion_to_2014, aes(x = year, y = uninsured_rate, group = State)) +
geom_line(aes(color = State %in% c(highest_state, lowest_state)), size = 1) +
scale_color_manual(values = c("gray", "red")) + # Highlight selected states in red
geom_text(data = medicaid_expansion_to_2014 %>%
filter(State %in% c(highest_state, lowest_state), year == 2014),
aes(label = State),
hjust = -0.1, size = 3) +
labs(title = "Uninsured Rate by State (2008–2014)",
subtitle = paste("Highlighting:", highest_state, "(highest) and", lowest_state, "(lowest)"),
x = "Year",
y = "Uninsured Rate (%)",
color = "Highlighted State") +
theme_minimal() +
theme(legend.position = "none") # Remove legend if you want it cleaner
##trying something else
state_summary <- medicaid_expansion_to_2014 %>%
group_by(State) %>%
summarize(avg_uninsured_rate = mean(uninsured_rate, na.rm = TRUE)) %>%
arrange(desc(avg_uninsured_rate))
highest_state <- state_summary$State[1]
lowest_state <- state_summary$State[nrow(state_summary)]
ggplot(medicaid_expansion_to_2014, aes(x = year, y = uninsured_rate, group = State)) +
geom_line(aes(color = State %in% c(highest_state, lowest_state)), linewidth = 1) +
scale_color_manual(values = c("gray", "red")) + # Highlight selected states in red
geom_text(data = medicaid_expansion_to_2014 %>%
filter(State %in% c(highest_state, lowest_state), year == 2014),
aes(label = State),
hjust = -0.1, size = 3) +
labs(title = "Uninsured Rate by State (2008–2014)",
subtitle = paste("Highlighting:", highest_state, "(highest) and", lowest_state, "(lowest)"),
x = "Year",
y = "Uninsured Rate (%)",
color = "Highlighted State") +
theme_minimal() +
theme(legend.position = "none") # Remove legend if you want it cleaner
# highest and lowest uninsured rates
medicaid_expansion_to_2014 <- medicaid_expansion %>%
filter(year >= 2008, year <= 2014)
ggplot(medicaid_expansion_to_2014, aes(x = year, y = uninsured_rate, group = State, color = State)) +
geom_line() +
labs(title = "Uninsured Rate by State (2008–2014)",
x = "Year",
y = "Uninsured Rate (%)") +
theme_minimal()
ggplot(medicaid_expansion_to_2014, aes(x = year, y = uninsured_rate, group = State)) +
geom_line(alpha = 0.7) +  # Lines, slightly transparent
geom_text(data = medicaid_expansion_to_2014 %>% filter(year == 2014),
aes(label = State),
hjust = 0, vjust = 0.5, size = 2.5) +  # Labels at the end of lines
labs(title = "Uninsured Rate by State (2008–2014)",
x = "Year",
y = "Uninsured Rate (%)") +
theme_minimal() +
theme(legend.position = "none") +
xlim(2008, 2015)  # Add space for labels
# highest and lowest uninsured rates
medicaid_expansion_to_2014 <- medicaid_expansion %>%
filter(year >= 2008, year <= 2014)
##nope
ggplot(medicaid_expansion_to_2014, aes(x = year, y = uninsured_rate, group = State, color = State)) +
geom_line() +
labs(title = "Uninsured Rate by State (2008–2014)",
x = "Year",
y = "Uninsured Rate (%)") +
theme_minimal()
#messy but effective
ggplot(medicaid_expansion_to_2014, aes(x = year, y = uninsured_rate, group = State)) +
geom_line(alpha = 0.7) +  # Lines, slightly transparent
geom_text(data = medicaid_expansion_to_2014 %>% filter(year == 2014),
aes(label = State),
hjust = 0, vjust = 0.5, size = 2) +  # Labels at the end of lines
labs(title = "Uninsured Rate by State (2008–2014)",
x = "Year",
y = "Uninsured Rate (%)") +
theme_minimal() +
theme(legend.position = "none") +
xlim(2008, 2015)
# most uninsured Americans
medicaid_expansion_uninsured <- medicaid_expansion %>%
mutate(uninsured_total = (uninsured_rate / 100) * population) %>%
filter(year >= 2008, year <= 2014)
# most uninsured Americans prior to 2014
medicaid_expansion_uninsured <- medicaid_expansion %>%
mutate(uninsured_total = (uninsured_rate / 100) * population) %>%
filter(year >= 2008, year <= 2014)
state_summary_uninsured <- medicaid_expansion_uninsured %>%
group_by(State) %>%
summarize(avg_uninsured_total = mean(uninsured_total, na.rm = TRUE)) %>%
arrange(desc(avg_uninsured_total))
highest_state_uninsured <- state_summary_uninsured$State[1]
lowest_state_uninsured <- state_summary_uninsured$State[nrow(state_summary_uninsured)]
# most uninsured Americans prior to 2014
medicaid_expansion_uninsured <- medicaid_expansion %>%
mutate(uninsured_total = (uninsured_rate / 100) * population) %>%
filter(year >= 2008, year <= 2014)
state_summary_uninsured <- medicaid_expansion_uninsured %>%
group_by(State) %>%
summarize(avg_uninsured_total = mean(uninsured_total, na.rm = TRUE)) %>%
arrange(desc(avg_uninsured_total))
highest_state_uninsured <- state_summary_uninsured$State[1]
lowest_state_uninsured <- state_summary_uninsured$State[nrow(state_summary_uninsured)]
ggplot(medicaid_expansion_uninsured, aes(x = year, y = uninsured_total, group = State)) +
geom_line(color = "gray", size = 0.8) +  # All lines gray
geom_line(data = medicaid_expansion_uninsured %>% filter(State %in% c(highest_state_uninsured, lowest_state_uninsured)),
aes(color = State), size = 1.2) +  # Highlight important states
geom_text(data = medicaid_expansion_uninsured %>%
filter(State %in% c(highest_state_uninsured, lowest_state_uninsured), year == 2014),
aes(label = State),
hjust = 0, vjust = 0.5, size = 3.5, fontface = "bold") +
labs(title = "Number of Uninsured People by State (2008–2014)",
subtitle = paste("Highlighting", highest_state_uninsured, "(highest) and", lowest_state_uninsured, "(lowest)"),
x = "Year",
y = "Total Uninsured",
color = "State") +
theme_minimal() +
theme(legend.position = "none") +
xlim(2008, 2015)
# most uninsured Americans prior to 2014
medicaid_expansion_uninsured <- medicaid_expansion %>%
mutate(uninsured_total = (uninsured_rate / 100) * population) %>%
filter(year >= 2008, year <= 2014)
ggplot(medicaid_expansion_uninsured, aes(x = year, y = uninsured_total, group = State)) +
geom_line(alpha = 0.7) +  # Lines, slightly transparent
geom_text(data = medicaid_expansion_to_2014 %>% filter(year == 2014),
aes(label = State),
hjust = 0, vjust = 0.5, size = 2) +  # Labels at the end of lines
labs(title = "Total Uninsured by State (2008–2014)",
x = "Year",
y = "Uninsured Total") +
theme_minimal() +
theme(legend.position = "none") +
xlim(2008, 2015)
# most uninsured Americans prior to 2014
medicaid_expansion_uninsured <- medicaid_expansion %>%
mutate(uninsured_total = (uninsured_rate / 100) * population) %>%
filter(year >= 2008, year <= 2014)
ggplot(medicaid_expansion_uninsured, aes(x = year, y = uninsured_total, group = State)) +
geom_line(alpha = 0.7) +  # Lines, slightly transparent
geom_text(data = medicaid_expansion_uninsured %>% filter(year == 2014),
aes(label = State),
hjust = 0, vjust = 0.5, size = 2) +  # Labels at the end of lines
labs(title = "Total Uninsured by State (2008–2014)",
x = "Year",
y = "Uninsured Total") +
theme_minimal() +
theme(legend.position = "none") +
xlim(2008, 2015)
# highest and lowest uninsured rates
medicaid_expansion_to_2014 <- medicaid_expansion %>%
filter(year >= 2008, year < 2014)
##nope
ggplot(medicaid_expansion_to_2014, aes(x = year, y = uninsured_rate, group = State, color = State)) +
geom_line() +
labs(title = "Uninsured Rate by State (2008–2013)",
x = "Year",
y = "Uninsured Rate (%)") +
theme_minimal()
#messy but effective
ggplot(medicaid_expansion_to_2014, aes(x = year, y = uninsured_rate, group = State)) +
geom_line(alpha = 0.7) +  # Lines, slightly transparent
geom_text(data = medicaid_expansion_to_2014 %>% filter(year == 2013),
aes(label = State),
hjust = 0, vjust = 0.5, size = 2) +  # Labels at the end of lines
labs(title = "Uninsured Rate by State (2008–2014)",
x = "Year",
y = "Uninsured Rate (%)") +
theme_minimal() +
theme(legend.position = "none") +
xlim(2008, 2014)
##trying something else -- average across 2008-2014
state_summary <- medicaid_expansion_to_2014 %>%
group_by(State) %>%
summarize(avg_uninsured_rate = mean(uninsured_rate, na.rm = TRUE)) %>%
arrange(desc(avg_uninsured_rate))
highest_state <- state_summary$State[1]
lowest_state <- state_summary$State[nrow(state_summary)]
ggplot(medicaid_expansion_to_2014, aes(x = year, y = uninsured_rate, group = State)) +
geom_line(aes(color = State %in% c(highest_state, lowest_state)), linewidth = 1) +
scale_color_manual(values = c("gray", "red")) + # Highlight selected states in red
geom_text(data = medicaid_expansion_to_2014 %>%
filter(State %in% c(highest_state, lowest_state), year == 2013),
aes(label = State),
hjust = -0.1, size = 3) +
labs(title = "Uninsured Rate by State (2008–2013)",
subtitle = paste("Highlighting:", highest_state, "(highest) and", lowest_state, "(lowest)"),
x = "Year",
y = "Uninsured Rate (%)",
color = "Highlighted State") +
theme_minimal() +
theme(legend.position = "none") # Remove legend if you want it cleaner
# most uninsured Americans prior to 2014
medicaid_expansion_uninsured <- medicaid_expansion %>%
mutate(uninsured_total = (uninsured_rate / 100) * population) %>%
filter(year >= 2008, year < 2014)
ggplot(medicaid_expansion_uninsured, aes(x = year, y = uninsured_total, group = State)) +
geom_line(alpha = 0.7) +  # Lines, slightly transparent
geom_text(data = medicaid_expansion_uninsured %>% filter(year == 2013),
aes(label = State),
hjust = 0, vjust = 0.5, size = 2) +  # Labels at the end of lines
labs(title = "Total Uninsured by State (2008–2014)",
x = "Year",
y = "Uninsured Total") +
theme_minimal() +
theme(legend.position = "none") +
xlim(2008, 2014)
# most uninsured Americans prior to 2014
medicaid_expansion_uninsured <- medicaid_expansion %>%
mutate(uninsured_total = (uninsured_rate / 100) * population) %>%
filter(year >= 2008, year < 2014)
ggplot(medicaid_expansion_uninsured, aes(x = year, y = uninsured_total, group = State)) +
geom_line(alpha = 0.7) +  # Lines, slightly transparent
geom_text(data = medicaid_expansion_uninsured %>% filter(year == 2013),
aes(label = State),
hjust = 0, vjust = 0.5, size = 2) +  # Labels at the end of lines
labs(title = "Total Uninsured by State (2008–2013)",
x = "Year",
y = "Uninsured Total") +
theme_minimal() +
theme(legend.position = "none") +
xlim(2008, 2014)
#Average
state_summary_uninsured <- medicaid_expansion_uninsured %>%
group_by(State) %>%
summarize(avg_uninsured_total = mean(uninsured_total, na.rm = TRUE)) %>%
arrange(desc(avg_uninsured_total))
highest_state_uninsured <- state_summary_uninsured$State[1]
lowest_state_uninsured <- state_summary_uninsured$State[nrow(state_summary_uninsured)]
ggplot(medicaid_expansion_uninsured, aes(x = year, y = uninsured_total, group = State)) +
geom_line(color = "gray", size = 0.8) +  # All lines gray
geom_line(data = medicaid_expansion_uninsured %>% filter(State %in% c(highest_state_uninsured, lowest_state_uninsured)),
aes(color = State), size = 1.2) +  # Highlight important states
geom_text(data = medicaid_expansion_uninsured %>%
filter(State %in% c(highest_state_uninsured, lowest_state_uninsured), year == 2013),
aes(label = State),
hjust = 0, vjust = 0.5, size = 3.5, fontface = "bold") +
labs(title = "Number of Uninsured People by State (2008–2014)",
subtitle = paste("Highlighting", highest_state_uninsured, "(highest) and", lowest_state_uninsured, "(lowest)"),
x = "Year",
y = "Total Uninsured",
color = "State") +
theme_minimal() +
theme(legend.position = "none") +
xlim(2008, 2014)
# most uninsured Americans in 2020
medicaid_expansion_uninsured_2020 <- medicaid_expansion %>%
mutate(uninsured_total = (uninsured_rate / 100) * population) %>%
filter(year == 2020)
ggplot(medicaid_expansion_uninsured_2020, aes(x = reorder(State, uninsured_total), y = uninsured_total)) +
geom_point(size = 3, color = "skyblue") +  # Dot plot
geom_text(aes(label = scales::comma(uninsured_total)), vjust = -0.5, size = 3) +  # Labels on dots
labs(title = "Total Uninsured by State (2020)",
x = "State",
y = "Uninsured Total") +
theme_minimal() +
theme(legend.position = "none") +
coord_flip()  # Flip to make it horizontal for better readability
